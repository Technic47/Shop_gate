package ru.kuznetsov.shop.gate.util;

import org.junit.jupiter.api.Test;

import java.util.UUID;

import static org.junit.jupiter.api.Assertions.*;

class TokenUtilsTest {

    private final String mockToken = "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJtZlJXS2JXeFdCU1RmM3RaRkpMZVhpQnV5RHNDZVp2aUppdTA2ekUtR2xrIn0.eyJleHAiOjE3NjIxNzI3NzgsImlhdCI6MTc2MjE3MjQ3OCwianRpIjoib25ydHJvOjE3OTc0YjYyLTBmNjUtOGY5MC0yZGJiLWFmNmE4ZTNmY2JkMyIsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6ODE4MC9yZWFsbXMvc2hvcCIsImF1ZCI6WyJyZWFsbS1tYW5hZ2VtZW50IiwiYnJva2VyIiwiYWNjb3VudCJdLCJzdWIiOiJmNTE5ZTk5OS0zYTVkLTQ1ZWYtODExYi0xYjE5NGUzYzZiMDYiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJzaG9wLWFwcCIsInNpZCI6ImYyMDNiMmNhLTlkZmYtNGE4Ni00YmVhLTlmOTllNjQ0YTYyYiIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiLyoiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIlJPTEVfVVNFUiIsIm9mZmxpbmVfYWNjZXNzIiwiZGVmYXVsdC1yb2xlcy1zaG9wIiwiUk9MRV9BRE1JTiIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsicmVhbG0tbWFuYWdlbWVudCI6eyJyb2xlcyI6WyJ2aWV3LXJlYWxtIiwidmlldy1pZGVudGl0eS1wcm92aWRlcnMiLCJtYW5hZ2UtaWRlbnRpdHktcHJvdmlkZXJzIiwiaW1wZXJzb25hdGlvbiIsInJlYWxtLWFkbWluIiwiY3JlYXRlLWNsaWVudCIsIm1hbmFnZS11c2VycyIsInF1ZXJ5LXJlYWxtcyIsInZpZXctYXV0aG9yaXphdGlvbiIsInF1ZXJ5LWNsaWVudHMiLCJxdWVyeS11c2VycyIsIm1hbmFnZS1ldmVudHMiLCJtYW5hZ2UtcmVhbG0iLCJ2aWV3LWV2ZW50cyIsInZpZXctdXNlcnMiLCJ2aWV3LWNsaWVudHMiLCJtYW5hZ2UtYXV0aG9yaXphdGlvbiIsIm1hbmFnZS1jbGllbnRzIiwicXVlcnktZ3JvdXBzIl19LCJzaG9wLWFwcCI6eyJyb2xlcyI6WyJST0xFX0NMSUVOVF9BRE1JTiIsIlJPTEVfQ0xJRU5UX1VTRVIiXX0sImJyb2tlciI6eyJyb2xlcyI6WyJyZWFkLXRva2VuIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50Iiwidmlldy1hcHBsaWNhdGlvbnMiLCJ2aWV3LWNvbnNlbnQiLCJ2aWV3LWdyb3VwcyIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwiZGVsZXRlLWFjY291bnQiLCJtYW5hZ2UtY29uc2VudCIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoiZW1haWwgcHJvZmlsZSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJzaG9wX2FkbWluIiwiZW1haWwiOiJ0ZWNobmljNDdAZ21haWwuY29tIn0.gEb_sObakAgsTsPl6mheMi3aJpZ01tBDosS99GVcTaPL1AG50A3NddkKoFi3FWxWb0_YCQGtwS6KoYDtX47fBry3GUFeeH3t8mu4M-QC3UWHw6NViRyxkpiI1dg6GT0cfVWg7uUzF-3c3bIVGYVQpFC24YIvVlx2bmkKJiHezl1XEU72TAgep-Qn3j-ls6tCwVrWiImBtDpmVOLXv_674juk6WXFu6lB7nPa3GNWHCos3-p6nF7ujWDT5__GiB_Y-VzhWplqNUMnR_0yvWz1_86DMnfBAaq4sQ5q_1xcnMwPfmQXfNnAE6soL5z8hYRs96PQNWuZhaa0IQVV3lRLMw";
    private final String mockUserId = "f519e999-3a5d-45ef-811b-1b194e3c6b06";

    @Test
    void getUserIdFromToken() {
        UUID userIdFromToken = TokenUtils.getUserIdFromToken(mockToken);

        assertEquals(mockUserId, userIdFromToken.toString());
    }
}